# Daily Notes - 2026-02-18

## Session Summary
Excalidraw MCP testing, diagram creation workflow established, HTML diagram templates created.

## Completed Today

### Excalidraw MCP Testing
- ‚úÖ Installed `mcp-diagram-generator` for creating Excalidraw, Draw.io, Mermaid diagrams
- ‚úÖ Installed `excalidraw-export` CLI for converting .excalidraw files to PNG
- ‚úÖ Tested with OpenClaw System Overview diagram
- ‚úÖ Successfully exported real Excalidraw PNG to Telegram

### Diagrams Created
1. **OpenClaw System Overview** (Excalidraw)
   - PNG: `/root/.openclaw/media/inbound/openclaw-system-overview.png` (authentic hand-drawn)
   - Shows: User ‚Üí Channels ‚Üí Core ‚Üí Capabilities ‚Üí Data Layer

2. **OpenClaw Real Excalidraw** (test)
   - PNG: `/root/.openclaw/media/inbound/openclaw-real-excalidraw.png`

3. **HTML Versions Created:**
   - `/root/.agent/diagrams/openclow-system-overview.html` (dark theme)
   - `/root/.agent/diagrams/openclow-system-white.html` (white theme)
   - `/root/.agent/diagrams/excalidraw-capabilities-white.html` (clean digital)
   - `/root/.agent/diagrams/excalidraw-capabilities-sketch.html` (‚úèÔ∏è **hand-drawn sketch style**)

### Hand-Drawn Aesthetic Options
| Type | Method | Quality |
|------|--------|---------|
| **Real Excalidraw** | MCP ‚Üí `excalidraw-export` | ‚úÖ Authentic hand-drawn |
| **Sketch HTML** | CSS with wobbly borders + handwritten font | ‚úÖ Simulated sketch |
| **Clean HTML** | Standard CSS | ‚ùå No sketch effect |

**For hand-drawn look in HTML:**
- Use `border-radius` with varying values for wobbly edges
- Use font: `'Patrick Hand', cursive` (Google Fonts)
- Add `border: 3px solid #2d2d2d` for thick sketchy lines
- Use `box-shadow: 2px 2px 0` for sketched depth

### Standard Diagram Workflow Established
When user asks for a diagram:
1. Generate Excalidraw via MCP
2. Export PNG via CLI
3. Create styled HTML page (white background by default)
4. Serve via Python HTTP server
5. Share link: `http://76.13.46.115:7777/filename.html`

**ALWAYS include these elements:**
- ‚úÖ Rectangles, ellipses, diamonds
- ‚úÖ Arrow connections (flow)
- ‚úÖ Text labels with icons
- ‚úÖ Color-coded elements
- ‚úÖ Multiple layouts (grid, flow, cards)
- ‚úÖ **Hand-drawn/sketch aesthetic** (use sketch CSS with Patrick Hand font)

### Skill File Created
- `/root/.openclaw/workspace/skills/diagram-generator/SKILL.md`
  - Full documentation for Excalidraw MCP
  - Element types: container, node, edge
  - Node shapes: rect, ellipse, diamond, rounded, cylinder, cloud
  - Export commands and examples

## Key Learnings
- Excalidraw MCP has issues with JSON schema (format field error)
- Fallback: Use styled HTML/CSS for quick diagrams
- MCP requires careful JSON formatting - watch for quote escaping
- Serve HTML via Python HTTP server on port 7777 for quick sharing

## Files Created/Modified
- `/root/.openclaw/workspace/skills/diagram-generator/SKILL.md` (new)
- `/root/.openclaw/workspace/memory/2026-02-18.md` (new)
- `/root/.agent/diagrams/openclow-system-overview.html`
- `/root/.agent/diagrams/openclow-system-white.html`
- `/root/.agent/diagrams/excalidraw-capabilities-white.html`

## Server Status
- Python HTTP server running on port 7777 (for HTML diagram sharing)
- Excalidraw MCP: installed via mcporter
- excalidraw-export CLI: installed globally

---

## Backup Status (2026-02-18 02:23 UTC)
- ‚úÖ Backup created: `/root/openclaw-backups/openclaw-2026-02-18_0223.tar.gz` (56M)
- ‚úÖ 4 backups total (keeps last 7)

---

## Personal CRM Project (#1 of 26)
**Source:** https://gist.github.com/mberman84/63163d6839053fbf15091238e5ada5c2

**Goal:** Build a personal CRM that:
1. Scans Gmail & Calendar for contacts (past year)
2. Stores in SQLite with vector embeddings
3. Natural language queries ("who do I know at NVIDIA?")
4. Auto-filter noise (marketing, newsletters)
5. Contact profiles: company, role, how I know them, history
6. Relationship health scores + stale flags
7. Follow-up reminders (create, snooze, done)
8. Duplicate detection with merge suggestions
9. Link Box documents to contacts

**Current State:**
- ‚úÖ Gmail: Working via Himalaya
- ‚úÖ SQLite: Database exists at `/root/.openclaw/workspace/knowledge-base/kb.db`
- ‚úÖ CRM tables: contacts, interactions, job_pipeline, follow_ups (8 jobs tracked)
- ‚ùå Vector embeddings: Not yet implemented
- ‚ùå Calendar integration: Not yet
- ‚ùå Natural language query: Not yet
- ‚ùå Duplicate detection: Not yet
- ‚ùå Box documents: Not yet

**Phase 1: Foundation (Today)**
- [ ] Design contact schema with embeddings support
- [ ] Add Gmail contact extraction script
- [ ] Add vector search extension (sqlite-vec or similar)
- [ ] Build natural language query interface
- [ ] Test with existing contacts

---

## Personal CRM Progress (Feb 18, 2026 02:31 UTC)

### Phase 1: Foundation ‚úÖ IN PROGRESS
- [x] Design contact schema with embeddings support
- [x] Add vector search extension (sqlite-vec installed)
- [x] Create migration script (crm-schema-v2.sql)
- [x] Gmail contact extraction script (scan_gmail_contacts.py)
- [x] Test Gmail scan - found 6 contacts
- [ ] Scan more historical emails (365 days)
- [ ] Add interaction logging from Gmail
- [ ] Build natural language query interface

### Current Contacts in CRM
| Name | Email | Company | Last Contact |
|------|-------|---------|--------------|
| Julian Goldie | me@juliangoldie.com | juliangoldie.com | Today |
| App Economy Insights | appeconomyinsights@substack.com | substack.com | Today |
| Ankler Dealmakers | theankler+dealmakers@substack.com | substack.com | Today |
| Bankless | team@bankless.com | bankless.com | Today |
| MBC Shahid | shahid@email.shahid.net | email.shahid.net | Today |

### Next Steps
1. Run full Gmail scan (365 days of contacts)
2. Add interaction logging
3. Implement health scoring algorithm
4. Add natural language query CLI
5. Add vector embedding generation (sentence-transformers)

### Files Created
- `/root/.openclaw/workspace/knowledge-base/crm-schema-v2.sql`
- `/root/.openclaw/workspace/knowledge-base/migrate_crm.py`
- `/root/.openclaw/workspace/knowledge-base/scan_gmail_contacts.py`

---

## #11 Daily Briefing ‚Äî COMPLETED (Feb 18, 2026 02:44 UTC)

**Status:** ‚úÖ Built and running
**Deliverables:**
- Morning briefing script: `/root/.openclaw/workspace/knowledge-base/daily_briefing.py`
- Telegram delivery: `--telegram` flag
- Cron job: Daily at 7am Cairo

**Briefing includes:**
- üìÜ Today's meetings (placeholder - needs gog calendar auth)
- üìß Urgent emails (analyzed from Gmail)
- üíº Job pipeline status (8 applications tracked)
- üìã Pending follow-ups
- ü§ù Stale relationships (10+ needing attention)

**Cron Job:**
```
ID: f66e6c60-f7e6-4356-b12f-4817e45a90f1
Schedule: 0 7 * * * @ Africa/Cairo
Delivery: Telegram with announcement
```

**Next steps:**
1. Connect Google Calendar via `gog calendar events`
2. Add meeting attendees ‚Üí CRM lookup for context
3. Add weather integration

**Usage:**
```bash
# Console
python3 knowledge-base/daily_briefing.py

# Telegram
python3 knowledge-base/daily_briefing.py --telegram
```

---

## #24 Model Cost Tracking ‚Äî COMPLETED (Feb 18, 2026 02:50 UTC)

**Status:** ‚úÖ Built and running
**Deliverables:**
- Tracking script: `/root/.openclaw/workspace/knowledge-base/model_cost.py`
- CLI logger: `/root/.openclaw/workspace/knowledge-base/log_usage.py`
- Weekly report cron: Sundays 9am Cairo

**Features:**
- Tracks: Claude (Opus, Sonnet), MiniMax, Kimi
- Per-request cost estimation
- By provider, model, task type
- Usage examples:
  ```bash
  # Log an API call
  python3 log_usage.py claude-opus-4-6 anthropic CV_creation 8000 3000
  
  # Generate report
  python3 model_cost.py week
  python3 model_cost.py week --telegram
  ```

**Cron Job:**
```
ID: bb7d0055-4aaf-4a77-8dbf-cca467e04149
Schedule: 0 9 * * 0 @ Africa/Cairo (Sundays 9am)
```

**Important Note:**
- MiniMax is NOT free - 6 days left on trial then charges
- Cost tracking critical to avoid surprise bills

**Next steps:**
1. Integrate logging into actual API calls (wrapper function)
2. Add actual token counts from API responses
3. Set budget alerts (e.g., warn at $10/month)
